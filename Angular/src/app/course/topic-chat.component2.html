 <!-- Chat View -->
 <mat-card class="card medium" style="max-height: 500px;">
  <div class="card-content scroll-hide" style="overflow:auto" id="chat_div_space" >
   <mat-card class="main-card" >
    <mat-list class="chat-list" dense>
        <div *ngFor="let message of messages">
            <mat-list-item *ngIf="message.user !== current_user" >
              <img mat-list-avatar [src]="avatar">
        <h4 mat-line>
          <b>{{message.user}}</b><i style="font-size: 12px; text-decoration: none;"> {{ message.timestamp }}</i>
        </h4>
              <br>
          <p mat-line >
              <span *ngIf="message.the_type === 'plain' || message.the_type === undefined " >
               {{message.message}}
            </span>
            <span *ngIf="message.the_type === 'image'">
           <i> Uploaded an image </i>
                  <a [href]="message.message" target="_blank">
                      <img mat-list-icon [src]="message.message"/>
                  </a>

            </span>
            <span *ngIf="message.the_type === 'file' ">
                <i> Uploaded a file: </i><a [href]="message.message" download="{{ message.user }}'s_upload">Download</a>
            </span>

          </p>


      </mat-list-item>
            <div class="me">
                <mat-list-item  *ngIf="message.user === current_user" >

        <h4 mat-line>
          <b>{{message.user}}</b><i style="font-size: 12px; text-decoration: none;"> {{ message.timestamp }}</i>
        </h4>
              <br>
          <p mat-line >
              <span *ngIf="message.the_type === 'plain' || message.the_type === undefined " >
               {{message.message}}
            </span>
            <span *ngIf="message.the_type === 'image'">
           <i> Uploaded an image </i>
                  <a [href]="message.message" target="_blank">
                      <img mat-list-icon [src]="message.message"/>
                  </a>

            </span>
            <span *ngIf="message.the_type === 'file' ">
                <i> Uploaded a file: </i><a [href]="message.message" download="{{ message.user }}'s_upload">Download</a>
            </span>

          </p>
                     <img mat-list-avatar [src]="avatar">

<mat-divider></mat-divider>
      </mat-list-item>
            </div>

        </div>
    </mat-list>
  </mat-card>
  </div>
</mat-card>


 <div class="form-group" style="display:flex">
     <div class="image-upload">
    <label for="file-input" style="top:4px">
        <i class="medium material-icons">add_circle_outline</i>
    </label>
    <input id="file-input" (change)="fileChange($event)" type="file"/>
</div>
  <input (keyup.enter)="sendMessage(chat_text,'plain')" class="form-control" type="text" id="message_box" name="chat_text" [(ngModel)]="chat_text" placeholder="Type Your Message Here" maxlength="400">
  <button class="send" (click)="sendMessage(chat_text,'plain')" id="submit"> SEND
  </button>
</div>
